  <div class="d-flex align-items-center pe-0">
    <div class="d-flex align-items-center justify-content-between w-100 pe-4">
      <h3 class="fs-9 mb-4 text-nowrap py-2 py-xl-0">{{ isSelectedData ? 'View Customer' : 'Add New Customer' }}</h3>
    </div>
  </div>
<div class="fleet-content-wrapper overflow-auto">
  <form [formGroup]="customerForm" (ngSubmit)="onSubmit()">
    <div class="px-4 py-3 bg-white rounded-3 me-md-4">
      <div class="accordion mb-3" id="accordionExample1">
        <div class="accordion-item border-0">
          <h2 class="accordion-header d-inline-block" id="heading1">
            <button class="accordion-button px-0 py-1 my-1 fw-medium" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapse1" aria-expanded="true" aria-controls="collapse1">Customer Information</button>
          </h2>
          <div class="accordion-collapse collapse show" id="collapse1" aria-labelledby="heading1"
            data-bs-parent="#accordionExample1">
            <div class="accordion-body py-0" formGroupName="customerDetails">
              <div class="row">
                <div class="col-12 col-sm-6">
                  <label>First name</label>
                  <input type="text" class="form-control" formControlName="firstName" [readonly]="isReadOnly" [class.disabled]="isReadOnly">
                </div>
                <div class="col-12 col-sm-6">
                  <label>Last name</label>
                  <input type="text" class="form-control" formControlName="lastName" [readonly]="isReadOnly" [class.disabled]="isReadOnly">
                </div>
              </div>

              <div class="row mt-2">
                <div class="col-12 col-sm-6">
                  <label>Phone Number</label>
                  <input type="tel" class="form-control" formControlName="phoneNumber" [readonly]="isReadOnly" [class.disabled]="isReadOnly">
                </div>
                <div class="col-12 col-sm-6">
                  <label>Email*</label>
                  <input type="text" class="form-control" formControlName="email" [readonly]="isReadOnly" [class.disabled]="isReadOnly">
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
      <div class="accordion mb-3" id="accordionExample2">
        <div class="accordion-item">
          <h2 class="accordion-header d-inline-block" id="heading2">
            <button class="accordion-button px-0 py-1 my-1 fw-medium" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapse2" aria-expanded="true" aria-controls="collapse2">Address
              Information</button>
          </h2>
          <div class="accordion-collapse collapse show" id="collapse2" aria-labelledby="heading2"
            data-bs-parent="#accordionExample2">
            <div class="accordion-body py-0" formGroupName="addressDetails">

              <div class="row">
                <div class="col-12 col-sm-6">
                  <label>Street Address</label>
                  <input type="text" class="form-control" formControlName="street" [readonly]="isReadOnly" [class.disabled]="isReadOnly">
                </div>
                <div class="col-12 col-sm-6">
                  <label>Street Address 2</label>
                  <input type="text" class="form-control" formControlName="street2" [readonly]="isReadOnly" [class.disabled]="isReadOnly">
                </div>
              </div>

              <div class="row mt-2">
                <div class="col-12 col-sm-6">
                  <label>Country</label>
                  <select class="form-select" aria-label="Default select example" formControlName="country"  [class.disabled]="isReadOnly">
                    <option selected>United States</option>
                  </select>
                </div>

                <div class="col-12 col-sm-6">
                  <label>State</label>
                  <select class="form-select" aria-label="Default select example" formControlName="state"  [class.disabled]="isReadOnly">
                    @for (state of states; track state; let i = $index) {
                    <option [value]="state">{{ state }}</option>
                    }
                  </select>
                </div>

              </div>

              <div class="row mt-2">
                <div class="col-12 col-sm-6">
                  <label>City</label>
                  <select class="form-select" aria-label="Default select example" formControlName="city"  [class.disabled]="isReadOnly">
                    @for (city of cities; track city; let i = $index) {
                    <option [value]="city">{{ city }}</option>
                    }
                  </select>
                  <!-- <input type="text" class="form-control" formControlName="city"> -->
                </div>

                <div class="col-12 col-sm-6">
                  <label>Postal Code</label>
                  <input type="text" class="form-control" formControlName="zip" [readonly]="isReadOnly" [class.disabled]="isReadOnly">
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
      <div class="accordion mb-3" id="accordionExample3">
        <div class="accordion-item">
          <h2 class="accordion-header d-inline-block" id="heading3">
            <button class="accordion-button show px-0 py-1 my-1 fw-medium" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapse3" aria-expanded="true" aria-controls="collapse3">License
              Information</button>
          </h2>
          <div class="accordion-collapse collapse show" id="collapse3" aria-labelledby="heading3"
            data-bs-parent="#accordionExample3">
            <div class="accordion-body py-0" formGroupName="licenseDetails">
              <div class="row">
                <div class="col-12 col-sm-4">
                  <label>License Number</label>
                  <input type="text" class="form-control" formControlName="licenseNumber" [readonly]="isReadOnly" [class.disabled]="isReadOnly">
                </div>
                <div class="col-12 col-sm-4">
                  <label>State</label>
                  <input type="text" class="form-control" formControlName="state" [readonly]="isReadOnly" [class.disabled]="isReadOnly">
                </div>
                <div class="col-12 col-sm-4">
                  <label>Expiry Date</label>
                  <input type="date" class="form-control" formControlName="endDate" [readonly]="isReadOnly" [class.disabled]="isReadOnly">
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
      <div class="accordion mb-3" id="accordionExample4">
        <div class="accordion-item">
          <h2 class="accordion-header d-inline-block" id="heading4">
            <button class="accordion-button show px-0 py-1 my-1 fw-medium" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapse4" aria-expanded="true" aria-controls="collapse4">Saved Credit Card</button>
          </h2>
          <div class="accordion-collapse collapse show" id="collapse4" aria-labelledby="heading4"
            data-bs-parent="#accordionExample4">
            <div class="accordion-body py-0" formGroupName="savedCreditCard">
              <div class="row">
                <div class="col-12 col-sm-4">
                  <label>Card Type</label>
                  <select class="form-select" formControlName="cardType"  [class.disabled]="isReadOnly" [class.disabled]="isReadOnly">
                    <option value="American Express">American Express</option>
                    <option value="Visa">Visa</option>
                    <option value="Master card">Master card</option>
                  </select>
                </div>
                <div class="col-12 col-sm-4">
                  <label>Card Number</label>
                  <input type="text" class="form-control" formControlName="cardNumber" [readonly]="isReadOnly" [class.disabled]="isReadOnly">
                </div>
                <div class="col-12 col-sm-4">
                  <label>Expiry Date</label>
                  <input type="month" class="form-control" formControlName="expiryDate" [readonly]="isReadOnly" [class.disabled]="isReadOnly">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      @if(containsCustomerView) {
      <div class="accordion mb-3" id="accordionExample5">
        <div class="accordion-item">
          <h2 class="accordion-header d-inline-block" id="heading4">
            <button class="accordion-button show px-0 py-1 my-1 fw-medium" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapse5" aria-expanded="true" aria-controls="collapse5">Reservation
              Information</button>
          </h2>
          <div class="accordion-collapse collapse show" id="collapse5" aria-labelledby="heading4"
            data-bs-parent="#accordionExample5">
            <div class="accordion-body py-0">
              <div class="row">
                <div class="col-12 col-md-6">
                  <h3 class="fs-6 fw-normal">Current Reservation</h3>
                  <div class="reservation-info">
                    <table class="table">
                      <tbody>
                        <tr>
                          <td>
                            <a href="#" class="text-decoration-none">R-23125</a>
                          </td>
                          <td>
                            <p class="mb-0">Pickup : 12-02-2023</p>
                          </td>
                          <td>
                            <p class="mb-0">Dropoff : 12-02-2023</p>
                          </td>
                        </tr>
                        <tr>
                          <td>
                            <a href="#" class="text-decoration-none">R-23125</a>
                          </td>
                          <td>
                            <p class="mb-0">Pickup : 12-02-2023</p>
                          </td>
                          <td>
                            <p class="mb-0">Dropoff : 12-02-2023</p>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>

                <div class="col-12 col-md-6">
                  <h3 class="fs-6 fw-normal">Past Reservation</h3>
                  <div class="reservation-info">
                    <table class="table">
                      <tbody>
                        <tr>
                          <td>
                            <a href="#" class="text-decoration-none">R-23125</a>
                          </td>
                          <td>
                            <p class="mb-0">Pickup : 12-02-2023</p>
                          </td>
                          <td>
                            <p class="mb-0">Dropoff : 12-02-2023</p>
                          </td>
                        </tr>
                        <tr>
                          <td>
                            <a href="#" class="text-decoration-none">R-23125</a>
                          </td>
                          <td>
                            <p class="mb-0">Pickup : 12-02-2023</p>
                          </td>
                          <td>
                            <p class="mb-0">Dropoff : 12-02-2023</p>
                          </td>
                        </tr>
                        <tr>
                          <td>
                            <a href="#" class="text-decoration-none">R-23125</a>
                          </td>
                          <td>
                            <p class="mb-0">Pickup : 12-02-2023</p>
                          </td>
                          <td>
                            <p class="mb-0">Dropoff : 12-02-2023</p>
                          </td>
                        </tr>
                        <tr>
                          <td>
                            <a href="#" class="text-decoration-none">R-23125</a>
                          </td>
                          <td>
                            <p class="mb-0">Pickup : 12-02-2023</p>
                          </td>
                          <td>
                            <p class="mb-0">Dropoff : 12-02-2023</p>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    }

    </div>
    @if(!isSelectedData) {
    <div class="card-footer d-flex justify-content-between mt-4 mb-3 me-md-2">
      <button [routerLink]="['/customer/list']" class="btn btn-tranparent outline-0">Cancel</button>
      <button class="btn btn-secondary" type="submit" [disabled]="customerForm.invalid">Save Customer</button>
    </div>
    }
  </form>
</div>
